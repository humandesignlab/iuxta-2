{"version":3,"file":"static/webpack/static/development/pages/index.js.86101ed9d8a07693bacf.hot-update.js","sources":["webpack:///./store.js"],"sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { OperationHelper } from \"apac\";\nimport \"isomorphic-fetch\";\n\nconst initialState = {\n  stuff: [],\n  lookup: []\n};\n\nexport const actionTypes = {\n  FETCH_STUFF: \"FETCH_STUFF\",\n  RECEIVE_STUFF: \"RECEIVE_STUFF\",\n  UPDATE_STUFF: \"UPDATE_STUFF\"\n};\n\n// REDUCERS\nexport const reducer = (state = initialState, action) => {\n  let newState;\n  switch (action.type) {\n    case actionTypes.FETCH_STUFF:\n      console.log(\"FETCH_STUFF Action\");\n      return action;\n    case actionTypes.RECEIVE_STUFF:\n      newState = action;\n      console.log(\"RECEIVE_STUFF Action \", newState);\n      return newState;\n    case actionTypes.UPDATE_STUFF:\n      newState = action;\n      console.log(\"UPDATE_STUFF Action \", newState);\n      return newState;\n    default:\n      return state;\n  }\n};\n\n// ACTIONS\nexport const receiveStuff = json => {\n  return { type: actionTypes.RECEIVE_STUFF, stuff: json, lookup: [] };\n};\n\nexport const updateLookup = (stuffProps, lookupProps) => {\n  return {\n    type: actionTypes.UPDATE_STUFF,\n    stuff: stuffProps,\n    lookup: lookupProps\n  };\n};\n\nexport const updateProps = (stuffProps, lookupProps) => {\n  return async dispatch => {\n    await dispatch(updateLookup(stuffProps, lookupProps));\n  };\n};\n\nexport const fetchStuff = termino => {\n  return async dispatch => {\n    console.log(\"termino \", termino);\n    const searchResAm = await fetch(\n      `http://localhost:3030/api/am-item-search/?searchTerm=${termino}`\n    );\n    const searchJsonAm = await searchResAm.json();\n    // const resWm = await fetch(`http://localhost:3030/wm?term=${termino}`);\n    // const jsonWm = await resWm.json();\n    const searchResult = await dispatch(receiveStuff(searchJsonAm));\n  };\n};\n\nexport const lookupStuff = termino => {\n  return async dispatch => {\n    console.log(\"termino \", termino);\n    const lookupResAm = await fetch(\n      `http://localhost:3030/api/am-item-lookup?itemId=${termino}`\n    );\n    const lookupJsonAm = await lookupResAm.json();\n    // const resWm = await fetch(`http://localhost:3030/wm?term=${termino}`);\n    // const jsonWm = await resWm.json();\n    const lookupResult = await dispatch(\n      receiveStuff([lookupJsonAm.ItemAttributes])\n    );\n  };\n};\n\nexport function initializeStore(initialState = initialState) {\n  return createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(thunkMiddleware))\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAHA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAbA;AAeA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAQA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAKA;AALA;AAAA;AACA;AADA;AAQA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAYA;AAEA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}